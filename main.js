(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t,n=!1){const a=document.createElement("div"),o=document.createElement("h3"),c=document.createElement("form"),d=document.createElement("select"),i=document.createElement("p"),s=document.createElement("label"),r=document.createElement("button"),l=document.createElement("button");a.classList.add("modal"),o.textContent=n?"Edit Todo":"Create new Todo",c.action="#",c.method="post",c.dataset.index=t,l.classList.add("submit","btn-anim"),l.type="submit",l.innerText=n?"Save":"Add",r.classList.add("close","btn-anim"),r.type="button",r.innerHTML="&#10005;",c.innerHTML='<p>\n                        <label for="title">Title</label>\n                        <input class=\'newTodo\' type="text" id="title" name="title" required />\n                    </p>\n                    <p>\n                        <label for="desc">Description</label>\n                        <textarea class=\'newTodo\' id="desc" name="desc"></textarea>\n                    </p>\n                    <p>\n                        <label for="date">Due Date</label>\n                        <input class=\'newTodo\' type="date" id="date" name="date"  required/>\n                    </p>\n                    <p>\n                        <label for="importance">Importance</label>\n                        <select class=\'newTodo\' id="priority" name="priority" required>\n                            <option value="">--How important is it?--</option>\n                            <option value="high">Very</option>\n                            <option value="mid">Somewhat</option>\n                            <option value="low">Not important</option>\n                        </select>\n                    </p>',s.for="project",s.textContent="Project",d.classList.add("newTodo"),d.name="project",d.id="project";for(const t of e){const e=document.createElement("option");e.value=t.id,e.textContent=t.name,d.appendChild(e)}return i.append(s,d),c.append(i,l),a.append(o,r,c),a}e.d({},{q:()=>g,I:()=>j});const n={edit({title:e,desc:t,date:n,priority:a,project:o}){this.title=e,this.desc=t,this.date=n,this.priority=a,this.project=o},complete(){this.completed=!this.completed},delete(e){e.splice(e.indexOf(this),1)}};function a(){const e=document.querySelectorAll(".newTodo");return Array.from(e).reduce(((e,t)=>({...e,[t.id]:t.value})),{})}function o(e,t=!1){const n=document.createElement("div"),a=document.createElement("h3"),o=document.createElement("form"),c=document.createElement("p"),d=document.createElement("label"),i=document.createElement("button"),s=document.createElement("button");n.classList.add("modal"),a.textContent=t?"Edit Project":"Create new Project",o.action="#",o.method="post",o.dataset.index=e,s.classList.add("submit","btn-anim"),s.type="submit",s.innerText=t?"Save":"Add",i.classList.add("close","btn-anim"),i.type="button",i.innerHTML="&#10005;",d.for="newProject",d.textContent="Project name";const r=document.createElement("input");return r.classList.add("newProject"),r.id="newProject",r.name="newProject",r.required=!0,c.append(d,r),o.append(c,s),n.append(a,i,o),n}let c=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"");const d={delete(e,t,n,a){e.splice(n,1);for(let e=t.length-1;e>=0;e--)t[e].project===this.id&&t.splice(e,1)},edit(e){this.name=e},updateProjectContents(e){this.contents=e.filter((e=>e.project===this.id))}};function i(e){localStorage.setItem("projects",JSON.stringify(e))}function s(e){localStorage.setItem("todos",JSON.stringify(e))}const r=[{class:"btn filter-btn filter-active",data:"all",icon:"fa-solid fa-globe",text:"All"},{class:"btn filter-btn",data:"today",icon:"fa-solid fa-calendar-day",text:"Today"},{class:"btn filter-btn",data:"month",icon:"fa-solid fa-calendar-days",text:"This month"},{class:"btn filter-btn",data:"important",icon:"fa-solid fa-calendar-plus",text:"Important"},{class:"btn filter-btn",data:"completed",icon:"fa-solid fa-calendar-check",text:"Completed"}];function l(e,t){const n=new Date;if("all"===t)v(j);else if("today"===t){const t=`${n.getFullYear()}-${n.getMonth()+1<=9?"0"+(n.getMonth()+1):n.getMonth()+1}-${n.getDate()<=9?"0"+n.getDate():n.getDate()}`;v(e.filter((e=>e.date===t)))}else if("month"===t){const t=n.getMonth()+1;v(e.filter((e=>parseInt(e.date.split("-")[1])===t)))}else"important"===t?v(e.filter((e=>"high"===e.priority))):"completed"===t&&v(e.filter((e=>e.completed)))}function m(e,t){const n=document.querySelectorAll(".project-select"),a=document.querySelectorAll(".filter-btn"),s=document.querySelectorAll(".project-edit"),r=document.querySelectorAll(".project-delete");document.querySelector(".new-project").addEventListener("click",(n=>{L.innerHTML="",L.appendChild(o()),function(e,t){const n=document.querySelector("form"),a=document.getElementById("newProject");n.addEventListener("submit",(n=>{n.preventDefault();const o=(s=a.value,Object.assign(Object.create(d),{name:s,id:c(8),contents:[]}));var s;e.push(o),i(e),u(e,t),b()}))}(e,t),h(),y()})),n.forEach((o=>o.addEventListener("click",(o=>{const c=e.filter((e=>e.id===o.target.dataset.id))[0];n.forEach((e=>e.classList.remove("filter-active"))),a.forEach((e=>e.classList.remove("filter-active"))),o.target.classList.add("filter-active"),c.updateProjectContents(t),v(c.contents)})))),s.forEach((n=>n.addEventListener("click",(n=>{const a=n.target.dataset.index;L.innerHTML="",L.appendChild(o(a,!0));const c=document.querySelector("form");document.querySelector(".newProject").value=e[a].name,c.addEventListener("submit",(n=>{n.preventDefault(),e[a].edit(document.querySelector(".newProject").value),u(e,t),i(),b()})),h(),y()})))),r.forEach((n=>n.addEventListener("click",(n=>{const a=n.target.dataset.index,o=n.target.dataset.id;L.innerHTML="",L.appendChild(function(){const e=document.createElement("div"),t=document.createElement("h3"),n=document.createElement("p"),a=document.createElement("div"),o=document.createElement("button"),c=document.createElement("button");return e.classList.add("modal","delete-warning"),t.textContent="Warning!",n.textContent="Deleting a Project will delete all Todos in it. Are you sure?",c.classList.add("modal-deleteBtn","btn-anim"),c.textContent="Delete",o.classList.add("modal-cancel","btn-anim"),o.textContent="Cancel",a.append(o,c),e.append(t,n,a),e}()),y();const c=document.querySelector(".modal-deleteBtn");document.querySelector(".modal-cancel").addEventListener("click",(e=>{b()})),c.addEventListener("click",(n=>{e[a].delete(e,t,a,o),v(t),u(e,t),i(e),b()}))}))))}function u(e,t){document.getElementById("content").firstElementChild.classList.contains("sidebar")&&document.getElementById("content").firstElementChild.remove(),document.getElementById("content").prepend(function(e){const t=document.createElement("div");return t.classList.add("sidebar"),t.append(function(){const e=document.createElement("nav");for(const t of r){const n=document.createElement("button"),a=document.createElement("i");n.className=t.class,n.dataset.filter=t.data,a.className=t.icon;const o=document.createTextNode(t.text);n.append(a,o),e.appendChild(n)}return e}(),function(e){const t=document.createElement("div");t.className="projects-container";const n=document.createElement("div");n.className="projects-heading",n.innerHTML='<h3>Projects:</h3><button class="btn btn-anim new-project">New</button>';const a=document.createElement("div");a.className="projects";const o=document.createElement("button");o.className="btn project-select",o.textContent="Default",o.dataset.id="default",o.dataset.index=0,a.appendChild(o);for(let t=1;t<e.length;t++){const n=document.createElement("div"),o=document.createElement("button"),c=document.createElement("button"),d=document.createElement("button");o.className="btn project-select",o.dataset.id=e[t].id,c.dataset.id=e[t].id,d.dataset.id=e[t].id,o.dataset.index=t,c.dataset.index=t,d.dataset.index=t,c.className="btn btn-anim project-edit",d.className="btn btn-anim project-delete",o.textContent=e[t].name,c.innerHTML='<i class="fa-solid fa-pen-to-square"></i>',d.innerHTML='<i class="fa-solid fa-trash"></i>',n.append(o,c,d),a.appendChild(n)}return t.append(n,a),t}(e)),t}(e)),function(){const e=document.querySelector(".burger"),t=document.querySelector(".sidebar"),n=document.querySelector("main"),a=document.querySelector(".overlay-mobile");e.addEventListener("click",(()=>{t.classList.contains("sidebar-hidden")?(e.classList.add("burger-active"),t.classList.remove("sidebar-hidden"),window.innerWidth>800?n.classList.add("pad-left"):(n.classList.remove("pad-left"),a.classList.remove("overlay-hidden"))):(e.classList.remove("burger-active"),t.classList.add("sidebar-hidden"),n.classList.remove("pad-left"),window.innerWidth<800&&a.classList.add("overlay-hidden"))})),a.addEventListener("click",(()=>{e.classList.remove("burger-active"),t.classList.add("sidebar-hidden"),a.classList.add("overlay-hidden")})),window.addEventListener("resize",(()=>{e.classList.remove("burger-active"),t.classList.add("sidebar-hidden"),n.classList.remove("pad-left")})),window.addEventListener("DOMContentLoaded",(()=>{window.innerWidth<800&&(e.classList.remove("burger-active"),t.classList.add("sidebar-hidden"),n.classList.remove("pad-left"))}))}(),function(){const e=document.querySelectorAll(".filter-btn"),t=document.querySelectorAll(".project-select");e.forEach((n=>n.addEventListener("click",(n=>{e.forEach((e=>e.classList.remove("filter-active"))),t.forEach((e=>e.classList.remove("filter-active"))),n.target.classList.add("filter-active"),l(j,n.target.dataset.filter)}))))}(),m(e,t)}function p(e,t){const n=document.createElement("div");n.classList.add("todo-item"),e.completed&&n.classList.add("todo-completed"),document.createElement("i").classList.add("fa-solid","fa-check");const a=e.completed?'<i class="fa-solid fa-check"></i>':"",o=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),s=document.createElement("button"),r=document.createElement("button"),l=document.createElement("button"),m=document.createElement("i"),u=document.createElement("i");return o.classList.add("importance",e.priority),c.classList.add("checkmark"),c.dataset.index=t,c.innerHTML=a,d.classList.add("todo-desc"),d.textContent=e.title,s.classList.add("details","btn-anim"),s.dataset.index=t,s.textContent="Details",i.classList.add("due-date"),i.textContent=e.date,r.classList.add("edit","btn-anim"),r.dataset.index=t,m.classList.add("fa-solid","fa-pen-to-square"),r.appendChild(m),l.classList.add("delete","btn-anim"),l.dataset.index=t,u.classList.add("fa-solid","fa-trash"),l.appendChild(u),n.append(o,c,d,s,i,r,l),n}function f(e){switch([...document.querySelectorAll(".filter-btn")].filter((e=>e.classList.contains("filter-active")))[0].dataset.filter){case"completed":l(e,"completed");break;case"today":l(e,"today");break;case"month":l(e,"month");break;case"important":l(e,"important")}}function v(e){const n=document.querySelector(".todo-container");n.innerHTML="";for(const t of e){const a=e.indexOf(t);n.appendChild(p(t,a))}!function(e){const n=document.querySelectorAll(".checkmark"),o=document.querySelectorAll(".details"),c=document.querySelectorAll(".edit"),d=document.querySelectorAll(".delete");n.forEach((t=>t.addEventListener("click",(t=>{const n=t.target.dataset.index;""===t.target.innerHTML?(t.target.innerHTML='<i class="fa-solid fa-check"></i>',t.target.parentNode.classList.add("todo-completed"),e[n].complete(),s(e)):(t.target.innerHTML="",t.target.parentNode.classList.remove("todo-completed"),e[n].complete(),s(e),f(e))})))),o.forEach((t=>t.addEventListener("click",(t=>{const n=t.target.dataset.index;L.innerHTML="",L.appendChild(function(e){const t=document.createElement("div"),n=document.createElement("h2"),a=document.createElement("button"),o=document.createElement("div");o.className="modal-details";const{title:c,desc:d,date:i,priority:s,completed:r}=e;t.classList.add("modal"),n.textContent="Todo Details",a.classList.add("close"),a.type="button",a.innerHTML="&#10005;";const l=[["Title: ",c],["Description: ",d],["Due date: ",i],["Priority",s],["Completion: ",r]];for(const e of l){const t=document.createElement("h3"),n=document.createElement("p");t.textContent=e[0],n.textContent=e[1],o.append(t,n)}return t.append(n,o,a),t}(e[n])),y(),h()})))),c.forEach((n=>n.addEventListener("click",(n=>{const o=n.target.dataset.index;L.innerHTML="",L.appendChild(t(g,o,!0)),document.querySelector("form").addEventListener("submit",(t=>{t.preventDefault(),e[o].edit(a()),v(e),s(e),f(e),b()})),h(),function(e){const t=document.getElementById("title"),n=document.getElementById("desc"),a=document.getElementById("date"),o=document.getElementById("priority"),c=document.getElementById("project");t.value=e.title,n.value=e.desc,a.value=e.date,o.value=e.priority,c.value=e.project}(e[n.target.dataset.index]),y()})))),d.forEach((t=>t.addEventListener("click",(t=>{const n=t.target.dataset.index;e[n].delete(e),s(e),v(e)}))))}(e)}const L=document.querySelector(".modal-container"),E=document.querySelector(".overlay");function h(){document.querySelector(".close").addEventListener("click",(()=>{b()})),E.addEventListener("click",(()=>{b()}))}function b(){L.classList.add("modal-hidden"),E.classList.add("overlay-hidden")}function y(){L.classList.remove("modal-hidden"),E.classList.remove("overlay-hidden")}let g=[{name:"Default",id:"default",contents:[]},{name:"Learn everything",id:"justDoIt",contents:[]}],j=[{title:"Kill Batman",desc:"none",date:"2021-12-08",priority:"mid",completed:!1,project:"default"},{title:"Save Batman",desc:"none",date:"2022-12-08",priority:"low",completed:!1,project:"justDoIt"},{title:"Become Batman",desc:"none",date:"2023-12-08",priority:"high",completed:!0,project:"justDoIt"},{title:"Stop being Batman",desc:"none",date:"2024-12-08",priority:"low",completed:!1,project:"default"}];var S,x;g.forEach((e=>Object.assign(e,d))),j.forEach((e=>Object.assign(e,n))),null!==localStorage.getItem("projects")&&(g=function(){const e=JSON.parse(localStorage.getItem("projects"));return e.forEach((e=>Object.assign(e,d))),e}()),null!==localStorage.getItem("todos")&&(j=function(){const e=JSON.parse(localStorage.getItem("todos"));return e.forEach((e=>Object.assign(e,n))),e}()),u(g,j),v(j),document.querySelector(".modal-container").appendChild(t(g)),function(){const e=document.querySelector(".mode"),t=document.querySelector(".toggle");e.addEventListener("click",(()=>{t.classList.toggle("on"),document.body.classList.toggle("dark")}))}(),S=g,x=j,document.querySelector(".new-todo").addEventListener("click",(e=>{L.innerHTML="",L.appendChild(t(S));const o=[...document.querySelectorAll(".project-select")].filter((e=>e.classList.contains("filter-active"))),c=document.getElementById("project");o.length>0&&(c.value=o[0].dataset.id),function(e,t){const o=document.querySelector("form");o.addEventListener("submit",(c=>{c.preventDefault();const d=(e=>{const{title:t,desc:a,date:o,priority:c,project:d}=e;return Object.assign(Object.create(n),{title:t,desc:a,date:o,priority:c,project:d,completed:!1})})(a());t.push(d),s(t);const i=[...document.querySelectorAll(".project-select")].filter((e=>e.classList.contains("filter-active")));if(i.length>0){const n=i[0].dataset.index;e[n].updateProjectContents(t),v(e[n].contents),o.reset(),b()}else v(t),o.reset(),b()}))}(S,x),h(),y()})),h()})();
//# sourceMappingURL=main.js.map