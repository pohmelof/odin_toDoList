(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){const n=document.createElement("div");n.classList.add("todo-item");const a=e.completed?'<i class="fa-solid fa-check"></i>':"";return n.innerHTML=`\n                    <div class="importance ${e.priority}"></div>\n                    <div class="checkmark" data-index="${t}">${a}</div>\n                    <div class="todo-desc">${e.title}</div>\n                    <button class="details" data-index="${t}">Details</button>\n                    <div class="due-date">${e.date}</div>\n                    <button class="edit" data-index="${t}">\n                        <i class="fa-solid fa-pen-to-square"></i>\n                    </button>\n                    <button class="delete" data-index="${t}">\n                        <i class="fa-solid fa-trash"></i>\n                    </button>\n                    `,n}function n(e,t){const n=document.createElement("div"),a=document.createElement("h3"),o=document.createElement("form"),d=document.createElement("select"),c=document.createElement("p"),i=document.createElement("label"),l=document.createElement("button"),r=document.createElement("button");n.classList.add("modal"),a.textContent="Create a new Todo",o.action="#",o.method="post",o.dataset.index=t,r.classList.add("submit"),r.type="submit",r.innerText="Add",l.classList.add("close"),l.type="button",l.innerHTML="&#10005;",o.innerHTML='<p>\n                        <label for="title">Title</label>\n                        <input class=\'newTodo\' type="text" id="title" name="title" required />\n                    </p>\n                    <p>\n                        <label for="desc">Description</label>\n                        <textarea class=\'newTodo\' id="desc" name="desc"></textarea>\n                    </p>\n                    <p>\n                        <label for="date">Due Date</label>\n                        <input class=\'newTodo\' type="date" id="date" name="date"  required/>\n                    </p>\n                    <p>\n                        <label for="importance">Importance</label>\n                        <select class=\'newTodo\' id="priority" name="priority" required>\n                            <option value="">--How important is it?--</option>\n                            <option value="high">Very</option>\n                            <option value="mid">Somewhat</option>\n                            <option value="low">Not important</option>\n                        </select>\n                    </p>',i.for="project",i.textContent="Project",d.classList.add("newTodo"),d.name="project",d.id="project";for(const t of e){const e=document.createElement("option");e.value=t.id,e.textContent=t.name,d.appendChild(e)}return c.append(i,d),o.append(c,r),n.append(a,l,o),n}e.d({},{q:()=>m,I:()=>u});const a={edit({title:e,desc:t,date:n,priority:a,project:o}){this.title=e,this.desc=t,this.date=n,this.priority=a,this.project=o},complete(){this.completed=!this.completed}};function o(){const e=document.querySelectorAll(".newTodo");return Array.from(e).reduce(((e,t)=>({...e,[t.id]:t.value})),{})}const d=document.querySelector(".modal-container"),c=document.querySelector(".overlay");function i(){document.querySelector(".close").addEventListener("click",(()=>{d.classList.add("modal-hidden"),c.classList.add("overlay-hidden")}))}function l(){d.classList.remove("modal-hidden"),c.classList.remove("overlay-hidden")}function r(e){const a=document.querySelector(".todo-container");a.innerHTML="";for(const n of e){const o=e.indexOf(n);a.appendChild(t(n,o))}!function(e){const t=document.querySelectorAll(".checkmark"),a=document.querySelectorAll(".details"),c=document.querySelectorAll(".edit"),s=document.querySelectorAll(".delete");t.forEach((t=>t.addEventListener("click",(t=>{const n=t.target.dataset.index;""===t.target.innerHTML?(t.target.innerHTML='<i class="fa-solid fa-check"></i>',e[n].complete()):(t.target.innerHTML="",e[n].complete())})))),a.forEach((t=>t.addEventListener("click",(t=>{const n=t.target.dataset.index;console.log(e[t.target.dataset.index].desc),d.innerHTML="",d.appendChild(function(e){const t=document.createElement("div"),n=document.createElement("h3"),a=document.createElement("button"),o=document.createElement("div"),{title:d,desc:c,date:i,priority:l,completed:r}=e;return t.classList.add("modal"),n.textContent="Todo Details",a.classList.add("close"),a.type="button",a.innerHTML="&#10005;",o.innerHTML=`\n  <p>Title: ${d}</p>\n  <p>Description: ${c}</p>\n  <p>Due date: ${i}</p>\n  <p>Priority: ${l}</p>\n  <p>Completion: ${r}</p>\n  `,t.append(n,o,a),t}(e[n])),l(),i()})))),c.forEach((t=>t.addEventListener("click",(t=>{const a=t.target.dataset.index;d.innerHTML="",d.appendChild(n(m,a)),document.querySelector("form").addEventListener("submit",(t=>{t.preventDefault(),e[a].edit(o()),r(e)})),i(),function(e){const t=document.getElementById("title"),n=document.getElementById("desc"),a=document.getElementById("date"),o=document.getElementById("priority"),d=document.getElementById("project");t.value=e.title,n.value=e.desc,a.value=e.date,o.value=e.priority,d.value=e.project}(e[t.target.dataset.index]),l()})))),s.forEach((t=>t.addEventListener("click",(t=>{const n=t.target.dataset.index;e.splice(n,1),r(e)}))))}(e)}const s=[{class:"btn filter-btn filter-active",data:"all",icon:"fa-solid fa-globe",text:"All"},{class:"btn filter-btn",data:"today",icon:"fa-solid fa-calendar-day",text:"Today"},{class:"btn filter-btn",data:"month",icon:"fa-solid fa-calendar-days",text:"This month"},{class:"btn filter-btn",data:"important",icon:"fa-solid fa-calendar-plus",text:"Important"},{class:"btn filter-btn",data:"completed",icon:"fa-solid fa-calendar-check",text:"Completed"}],m=[{name:"Default",id:"default"},{name:"Learn everything",id:((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))(8)}],u=[{title:"kill batman",desc:"none",date:"2022-12-08",priority:"mid",completed:!1,project:"id2342"},{title:"kill batman",desc:"none",date:"2022-12-08",priority:"low",completed:!1,project:"id2342"},{title:"kill batman",desc:"none",date:"2022-12-08",priority:"high",completed:!0,project:"id2342"},{title:"kill batman",desc:"none",date:"2022-12-08",priority:"low",completed:!1,project:"id2342"}];u.forEach((e=>Object.assign(e,a))),console.log(u),r(u),document.querySelector(".modal-container").appendChild(n(m)),document.getElementById("content").prepend(function(e){const t=document.createElement("div");return t.className="sidebar sidebar-hidden",t.append(function(){const e=document.createElement("nav");for(const t of s){const n=document.createElement("button"),a=document.createElement("i");n.className=t.class,n.dataset.filter=t.data,a.className=t.icon;const o=document.createTextNode(t.text);n.append(a,o),e.appendChild(n)}return e}(),function(e){const t=document.createElement("div");t.className="projects-container";const n=document.createElement("div");n.className="projects-heading",n.innerHTML='<h3>Projects:</h3><button class="btn new-project">New</button>';const a=document.createElement("div");a.className="projects";const o=document.createElement("button");o.className="btn",o.textContent="Default",o.dataset.id="default",a.appendChild(o);for(let t=1;t<e.length;t++){const n=document.createElement("div"),o=document.createElement("button"),d=document.createElement("button"),c=document.createElement("button");o.className="btn project-select",o.dataset.id=e[t].id,d.dataset.id=e[t].id,d.className="btn project-edit",c.dataset.id=e[t].id,c.className="btn project-delete",o.textContent=e[t].name,d.innerHTML='<i class="fa-solid fa-pen-to-square"></i>',c.innerHTML='<i class="fa-solid fa-trash"></i>',n.append(o,d,c),a.appendChild(n)}return t.append(n,a),t}(e)),t}(m)),(()=>{const e=document.querySelector(".burger"),t=document.querySelector(".sidebar"),c=document.querySelector("main");e.addEventListener("click",(()=>{e.classList.toggle("burger-active"),t.classList.toggle("sidebar-hidden"),window.innerWidth>800?c.classList.toggle("pad-left"):c.classList.remove("pad-left")})),window.addEventListener("resize",(()=>{e.classList.remove("burger-active"),t.classList.add("sidebar-hidden"),c.classList.remove("pad-left")})),window.addEventListener("DOMContentLoaded",(()=>{window.innerWidth>800&&(e.classList.add("burger-active"),t.classList.remove("sidebar-hidden"),c.classList.add("pad-left"))}));const s=document.querySelectorAll(".filter-btn");s.forEach((e=>e.addEventListener("click",(e=>{s.forEach((e=>e.classList.remove("filter-active"))),e.target.classList.add("filter-active"),function(e,t){const n=new Date;if("all"===t)r(u);else if("today"===t){const t=`${n.getFullYear()}-${n.getMonth()+1<=9?"0"+(n.getMonth()+1):n.getMonth()+1}-${n.getDate()<=9?"0"+n.getDate():n.getDate()}`;r(e.filter((e=>e.date===t)))}else if("month"===t){const t=n.getMonth()+1;r(e.filter((e=>parseInt(e.date.split("-")[1])===t)))}else"important"===t?r(e.filter((e=>"high"===e.priority))):"completed"===t&&r(e.filter((e=>e.completed)))}(u,e.target.dataset.filter)}))));const p=document.querySelector(".mode"),f=document.querySelector(".toggle");p.addEventListener("click",(e=>{f.classList.toggle("on"),document.body.classList.toggle("dark")})),document.querySelector(".new-todo").addEventListener("click",(e=>{d.innerHTML="",d.appendChild(n(m)),function(){const e=document.querySelector("form");e.addEventListener("submit",(t=>{t.preventDefault();const n=(e=>{const{title:t,desc:n,date:o,priority:d,project:c}=e;return Object.assign(Object.create(a),{title:t,desc:n,date:o,priority:d,project:c,completed:!1})})(o());u.push(n),r(u),e.reset()}))}(),i(),l()})),i()})()})();